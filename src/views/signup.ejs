<%- include('layouts/header.ejs') %>

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <%- include('navparts/nav.ejs') %>
        </div>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->



 <!--sign up------->

 <div id="signup" class="contact-us section">
  <div class="container">
    <div class="row">
      <div class="col-lg-7">
        <div class="section-heading">
          <h2>Sign  <em>Up</em> With <span>Your Email</span></h2>
          
          <div class="info">
              <span><i class="fa fa-phone"></i> <a href="#">010-6002-4256<br>010-6002-4256</a></span>
              <span><i class="fa fa-envelope"></i> <a href="#">Mohamed Sayd Radwan@company.com<br>Mohamed Sayd Radwan@company.com</a></span>
            </div>
        </div>
      </div>
      <div class="col-lg-5 align-self-center">

        

        <form id="contact" >
          <div class="row">
            <div class="col-lg-12">
              <fieldset>
                <input type="Fristname" name="firstname" id="Fristname" placeholder="Fristname" autocomplete="on" required>
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <input type="Lastname" name="lastname" id="Lastname" placeholder="Lastname" autocomplete="on" required>
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <input type="email" name="email" id="email" pattern="[^ @]*@[^ @]*" placeholder="Your Email" required="">
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <input type="password" name="password_digest" id="password" placeholder="password" required="">
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <button type="submit" id="form-submit" class="main-button">Create Account</button>
              </fieldset>

              <br>
                <div style=" color: red; font-size: 16px; text-align: center; font-weight:bold;" id="err"> </div>

              <br>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="contact-dec">
    <img src="assets/images/contact-dec.png" alt="">
  </div>
  <div class="contact-left-dec">
    <img src="assets/images/contact-left-dec.png" alt="">
  </div>
</div>

<!--sign up end--->
<h6 style="font-size: 30px;margin: 50px 0px 10px 100px;">
  <div style=" color: #ff0099; margin: -27px 0 0px  -90px; font-size: 20px; font-weight: bold; " id="data"> </div>
</h6>


<script>
  const form = document.getElementById('contact');
  const err = document.getElementById('err');             
 // const err1 = document.getElementById('err1');             
  form.addEventListener('submit', async (e) => {
      e.preventDefault();
        // reset errors
        err.textContent = '';
        // get values
      const firstname = form.firstname.value;
      const lastname = form.lastname.value;
      const email = form.email.value;
      const password_digest = form.password_digest.value;
      try {
        const res = await fetch('/api/users/signup', { 
          method: 'POST', 
          body: JSON.stringify({ firstname, lastname, email, password_digest}),
          headers: {'Content-Type': 'application/json'}
        });
        const data = await res.json();
          console.log(data);
          if (data.newUser){
            location.assign('/login');
          }
        if(data.errors) {
          document.getElementById('err').innerHTML = data.errors
        }if(data.err.errors){
          document.getElementById('err').innerHTML = data.err.errors[0].msg
        } 
    } catch (err) {
          console.log(err);
      }    
    })
  
</script>



<%- include('layouts/footer.ejs') %>

  <script>
  // Acc
    $(document).on("click", ".naccs .menu div", function() {
      var numberIndex = $(this).index();

      if (!$(this).is("active")) {
          $(".naccs .menu div").removeClass("active");
          $(".naccs ul li").removeClass("active");

          $(this).addClass("active");
          $(".naccs ul").find("li:eq(" + numberIndex + ")").addClass("active");

          var listItemHeight = $(".naccs ul")
            .find("li:eq(" + numberIndex + ")")
            .innerHeight();
          $(".naccs ul").height(listItemHeight + "px");
        }
    });

    function myFunction1() {
  var x = document.getElementById("myDIV1");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

function myFunction2() {
  var x = document.getElementById("myDIV2");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}



function myFunction3() {
  var x = document.getElementById("myDIV3");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}


function myFunction4() {
  var x = document.getElementById("myDIV4");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

$(document).ready(function() {
$('#dtBasicExample').DataTable();
$('.dataTables_length').addClass('bs-select');
} );

$(document).ready(function() {
$('#dtBasicExample1').DataTable();
$('.dataTables_length').addClass('bs-select');
} );


$(document).ready(function() {
$('#dtBasicExample2').DataTable();
$('.dataTables_length').addClass('bs-select');
} );


$(document).ready(function() {
$('#dtBasicExample3').DataTable();
$('.dataTables_length').addClass('bs-select');
} );

function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
  </script>
</body>
</html>